version: 1
generated_at_utc: "2026-02-13T04:35:47Z"
purpose: "Code references and command steering guidance for ralphie.sh engine execution paths."
engine_mode_bindings:
  plan:
    preferred_engine: "auto"
    fallback_order: ["codex", "claude"]
  plan:
    preferred_engine: "auto"
    fallback_order: ["codex", "claude"]
  build:
    preferred_engine: "auto"
    fallback_order: ["codex", "claude"]
binaries:
  codex:
    executable: "codex"
    invocation_patterns:
      default: "cat <prompt_file> | codex exec - --output-last-message <output_file>"
      yolo: "cat <prompt_file> | codex exec --dangerously-bypass-approvals-and-sandbox - --output-last-message <output_file>"
    runtime_probe:
      version: "codex --version"
      help: "codex exec --help"
    steering_constraints:
      - "Use --config overrides for transient tuning before editing the global Codex config file."
      - "Respect compatibility limits for model_reasoning_effort in the installed binary."
      - "Do not assume a specific model provider unless explicitly configured."
    source_references:
      - "subrepos/codex/docs/exec.md"
      - "subrepos/codex/docs/config.md"
      - "subrepos/codex/codex-rs/exec/src/cli.rs"
      - "subrepos/codex/sdk/typescript/src/exec.ts"
  claude:
    executable: "claude"
    invocation_patterns:
      default: "cat <prompt_file> | claude -p"
      yolo: "cat <prompt_file> | claude -p --dangerously-skip-permissions"
    runtime_probe:
      version: "claude --version"
      help: "claude --help"
    steering_constraints:
      - "Keep permission and sandbox behavior explicit; do not silently assume skip-permissions."
      - "Prefer settings-based safety controls when available."
      - "When in doubt, verify current CLI behavior with runtime --help output."
    source_references:
      - "subrepos/claude-code/README.md"
      - "subrepos/claude-code/examples/settings/README.md"
      - "subrepos/claude-code/examples/settings/settings-strict.json"
      - "subrepos/claude-code/examples/settings/settings-bash-sandbox.json"
      - "subrepos/claude-code/CHANGELOG.md"
self_heal_signatures:
  - signature: "Error loading config.toml: unknown variant `xhigh` ... model_reasoning_effort"
    repair_strategy: "Downgrade the global Codex config file model_reasoning_effort to a supported level (e.g., high) with backup."
